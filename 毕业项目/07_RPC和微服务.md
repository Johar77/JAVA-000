# 												RPC与微服务

![RPC](.\pic\RPC.png)

![分布式服务](.\pic\分布式服务.png)

目前互联网行业面对业务越来越复杂，单体模式进过分层、SOA演化，最终演化成微服务。

- rpc & dubbo

  rpc框架让远程调用就向本地调用一样简单方便，提升了开发的速度。在实际工作中用的最多就是webservice，feign。rpc框架原理简单来说，就是rcp客户端先通过动态代理，创建调用的接口实例；在调用代理的接口时，则序列化请求信息，再通过网络发送给服务提供方；服务提供收到请求后，反序列化，调用实际的服务接口，并将结果序列化后通过网络返回客户端；客户端再进行反序列，返回给代理接口调用者。当然这部分是简单实现，真正实际生产环境，还需要增加很多非功能需求，如服务注册、服务发现、服务负载均衡、流量控制等，具体的就是dubbo的开源实现了。

- 微服务

  单体应用有这简单，方便维护的好处，微服务是解决业务复杂的一种方法，不是银弹，也带来很多问题，如：服务配置，服务集群与路由，流控等。当然，目前都成熟的方案来解决这些问题，目前火热的Spring Cloud技术栈，在微服务领域有整套的解决方案，注册中心有Consul、Eureka、业务网关有Zuul、Spring Gateway，接口发布与调用有Feign、Ribbon；流量控制有Hytrix、Sentinel；调用链有pinpoint、zipkin、skywalking；日志监控有ELK、promethus+Grafana等待。

  