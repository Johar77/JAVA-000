# 										分布式消息队列

# 1.背景

在目前互联网行业，消息中间件发挥着不可替代的作用，如：异步通信，系统解耦，削峰平谷，可靠通信等。目前流行的消息中间有很多，一般分成3代，第一代的ActiveMQ、RabbitMQ；第二代的Kafka，RocketMQ；第三代的Pulsar，都是目前主流MQ的代表。

![mq](.\pic\mq.png)

# 2.Kafka

Kafka作为目前互联行业的消息中间件的佼佼者，单台拥有高达百万TPS的吞吐能力，天生为分布式设计，具备非常高的可用性。

![消息队列-kafka](.\pic\消息队列-kafka.png)

但是Kafka在某些极端的情况下，也会丢失消息，需要从业务的角度上进行弥补：

![Kafka丢消息的情况](.\pic\Kafka丢消息的情况.png)

# 3.Kmq

重复造轮子，写自己的mq，目前只在原有的基础上，实现了自定义的Queue，实现消息的确认和消费offset。mq这块的知识，基本上涵盖了Java技术体系，这个重复的轮子值得重复造，从实践中，将所学的Java技术体系融合贯通。